# TBC CLASS — 기획 및 설계 문서

> 수학 전문 학원용 학습관리 시스템(LMS)  
> 문서 버전: 1.0 | 작성일: 2025-02-05

---

## 목차

1. [서비스 페르소나 설계](#1-서비스-페르소나-설계)
2. [서비스 핵심 컨셉 정리](#2-서비스-핵심-컨셉-정리)
3. [사용자별 주요 기능 목록](#3-사용자별-주요-기능-목록)
4. [화면 구성 제안 (모바일 중심 UX)](#4-화면-구성-제안-모바일-중심-ux)
5. [DB 구조 개요 제안](#5-db-구조-개요-제안)
6. [개발 로드맵 제안](#6-개발-로드맵-제안)

---

## 1. 서비스 페르소나 설계

### 1.1 관리자(원장)

| 항목 | 내용 |
|------|------|
| **역할** | 학원 전체 운영·정책 결정, 인력·반·학생 관리, 수익·성과 파악 |
| **사용 환경** | PC 위주, 필요 시 모바일로 확인 |
| **핵심 니즈** | 학생/강사/반 관리, 진도·테스트·통계 한눈에 보기, 보고서·출력 |
| **페르소나 예시** | 40대 원장, 수학 전문 학원 1곳 운영. 학생 50~100명 규모. 반 편성·강사 배정·학부모 상담 자료를 체계적으로 관리하고 싶어함. |
| **주요 행동** | 학생·강사 등록/수정, 반 생성·편성, ID/비밀번호 설정, 기간별 통계·PDF 보고서 확인·출력 |

---

### 1.2 강사

| 항목 | 내용 |
|------|------|
| **역할** | 담당 반의 수업 진도 입력, 과제·테스트 점수 입력, 학생별 학습 현황 확인 |
| **사용 환경** | 모바일·PC 혼용 (수업 중 모바일, 사후 정리 시 PC) |
| **핵심 니즈** | 수업별 진도·과제·테스트를 빠르게 기록, 담당 반·학생 현황 파악 |
| **페르소나 예시** | 30대 수학 강사. 여러 반 담당. 수업 후 진도·과제·시험 점수를 한 곳에서 입력하고, 학생별 약점을 보고 싶어함. |
| **주요 행동** | 진도 등록, 과제 수행 체크, 테스트 점수 입력, 담당 반·학생 목록·통계 조회 |

---

### 1.3 학생

| 항목 | 내용 |
|------|------|
| **역할** | 본인 진도·과제·테스트 결과 확인, 학습 리포트 열람 |
| **사용 환경** | **모바일 웹 절대 다수** |
| **핵심 니즈** | 내 진도, 과제 완료 여부, 시험 점수·성적 추이를 쉽게 확인 |
| **페르소나 예시** | 중·고등학생. 스마트폰으로 “오늘 뭐 했지?”, “다음 시험 언제?”를 자주 확인. 복잡한 메뉴보다 한두 번 터치로 보이는 화면 선호. |
| **주요 행동** | 로그인 → 대시보드/진도·과제·테스트 결과 확인, 내정보(ID·비밀번호·전화번호) 수정 |

---

### 1.4 학부모

| 항목 | 내용 |
|------|------|
| **역할** | 자녀 1명의 진도·과제·테스트·통계·리포트 확인 (1:1 자녀 연결) |
| **사용 환경** | **모바일 웹 절대 다수** |
| **핵심 니즈** | 자녀의 수업 참여도, 과제 이행, 시험 성적·추이를 한 화면에서 파악, 필요 시 PDF 등으로 보관 |
| **페르소나 예시** | 40대 학부모. 직장·육아로 바쁨. 학원 앱/웹으로 “이번 주 수업 뭐 했는지”, “시험 결과 어떻게 나왔는지” 빠르게 확인하고, 상담 시 자료로 쓰고 싶어함. |
| **주요 행동** | 로그인 → 자녀 대시보드/진도·과제·테스트·통계·리포트 확인, PDF 저장, 내정보(ID·비밀번호·전화번호) 수정 |

---

## 2. 서비스 핵심 컨셉 정리

### 2.1 한 줄 컨셉

**“수학 전문 학원의 진도·과제·테스트를 한 곳에서 관리하고, 학생·학부모에게 한눈에 보여주는 학습관리 서비스”**

### 2.2 핵심 가치

| 구분 | 내용 |
|------|------|
| **관리자** | 등록·반 배정·ID/비밀번호 정책을 한 시스템에서 통제하고, 통계·보고서로 운영 판단 지원 |
| **강사** | 수업 후 진도·과제·테스트를 최소 입력으로 기록하고, 담당 반 기준으로 현황 파악 |
| **학생** | 모바일에서 “내 수업·과제·시험”만 빠르게 확인 |
| **학부모** | 자녀 1명 기준으로 진도·성적·리포트를 투명하게 확인, PDF로 보관·상담 활용 |

### 2.3 서비스 원칙

- **모바일 우선**: 학생·학부모는 모바일 웹이 주 사용처이므로, 레이아웃·터치·정보량을 모바일 기준으로 설계
- **1:1 구조 유지**: 학생–학부모는 1:1 고정 (다자녀는 1단계 미고려)
- **설정 정책**: .env 미사용, TypeScript config 기반 설정만 사용
- **보안**: 비밀번호 해시 저장, 개인정보 최소 수집·최소 노출

---

## 3. 사용자별 주요 기능 목록

### 3.1 관리자(원장)

| 영역 | 기능 | 설명 |
|------|------|------|
| **학생 관리** | 학생 계정 생성 | 이름, 학교, 학년, 학생/학부모 전화번호 필수; ID/비밀번호 선택(미입력 시 전화번호로 자동 생성) |
| | 학생 정보 수정 | 위 항목 및 학생/학부모 ID·비밀번호 직접 설정 |
| | 반 배정 | 학생 ↔ 반 연결 (한 학생 한 반 이상 가능한지 정책에 따라 설계) |
| **강사 관리** | 강사 계정 생성 | 이름, 로그인 ID, 비밀번호 등록 |
| | 강사 목록·수정 | 강사 정보 조회·수정 |
| **반(Class) 관리** | 반 CRUD | 반 생성/수정/삭제 |
| | 반–강사 지정 | 한 반에 강사 다수 지정 (N:M), 한 강사 다수 반 가능 |
| **통계·보고** | 기간별 학습 통계 | 기간·반·과목 단위 진도·과제·테스트 통계 |
| | PDF 보고서 출력 | 통계·리포트 기반 PDF 생성·다운로드 |
| **시스템** | 관리자 로그인 | 관리자 전용 인증 (역할: admin) |

### 3.2 강사

| 영역 | 기능 | 설명 |
|------|------|------|
| **진도·과제·테스트** | 수업별 진도 기록 | 담당 반·수업 단위로 진도 입력 |
| | 과제 수행 체크 | 과제별 완료 여부 체크 |
| | 테스트 점수 관리 | 테스트별 점수 입력·수정 |
| **조회** | 담당 반 목록 | 본인이 지정된 반 목록 |
| | 반별 학생 목록·현황 | 반 선택 시 학생별 진도·과제·테스트 요약 |
| **통계** | 기간별 학습 통계 | 담당 반/과목 기준 통계 조회 (권한 범위 내) |
| **시스템** | 강사 로그인 | 강사 전용 인증 (역할: teacher) |

### 3.3 학생

| 영역 | 기능 | 설명 |
|------|------|------|
| **학습 현황** | 내 진도 보기 | 수업별 진도 조회 |
| | 과제 수행 현황 | 과제 완료 여부 조회 |
| | 테스트 결과 | 본인 테스트 점수·이력 조회 |
| **리포트** | 학습 리포트 | 기간별 요약 리포트 (화면 + 필요 시 PDF) |
| **내정보** | 로그인 ID 변경 | 본인 ID 변경 |
| | 비밀번호 변경 | 본인 비밀번호 변경 |
| | 전화번호 변경 | 본인 전화번호 변경 |
| **시스템** | 학생 로그인 | 학생 전용 인증 (역할: student) |

### 3.4 학부모

| 영역 | 기능 | 설명 |
|------|------|------|
| **자녀 학습 현황** | 자녀 진도 보기 | 연결된 자녀 1명의 진도 조회 |
| | 자녀 과제 현황 | 자녀 과제 완료 여부 조회 |
| | 자녀 테스트 결과 | 자녀 테스트 점수·이력 조회 |
| **리포트** | 자녀 학습 리포트 | 자녀 기준 기간별 리포트 (화면 + PDF) |
| **내정보** | 로그인 ID 변경 | 본인 ID 변경 |
| | 비밀번호 변경 | 본인 비밀번호 변경 |
| | 전화번호 변경 | 본인 전화번호 변경 |
| **시스템** | 학부모 로그인 | 학부모 전용 인증 (역할: parent) |

---

## 4. 화면 구성 제안 (모바일 중심 UX)

### 4.1 공통

- **로그인**: 역할별 동일 진입점, 로그인 후 역할에 따라 리다이렉트
- **상단/하단**: 모바일은 하단 탭 또는 상단 햄버거 메뉴로 역할별 메인 메뉴 제공
- **내정보**: 공통 메뉴로 “내정보” 진입 → ID/비밀번호/전화번호 변경

### 4.2 관리자 (PC 중심, 모바일 지원)

| 메뉴 | 화면 | 비고 |
|------|------|------|
| 대시보드 | 학원 요약(학생 수, 반 수, 강사 수, 최근 활동 요약) | PC 메인 |
| 학생 관리 | 학생 목록(검색·필터) → 학생 상세 → 등록/수정 폼 | 반 배정 포함 |
| 강사 관리 | 강사 목록 → 강사 상세 → 등록/수정 폼 | |
| 반 관리 | 반 목록 → 반 상세(강사 N:M, 학생 목록) → 생성/수정 | |
| 통계 | 기간·반·과목 선택 → 차트/표 통계 | |
| 보고서 | 조건 선택 → 미리보기 → PDF 다운로드 | |

### 4.3 강사 (모바일·PC)

| 메뉴 | 화면 | 비고 |
|------|------|------|
| 홈 | 담당 반 요약, 오늘/이번 주 할 일 | 모바일 첫 화면 |
| 반 목록 | 담당 반 카드/리스트 → 반 선택 | |
| 반 상세 | 해당 반 학생 목록, 진도·과제·테스트 요약 | |
| 진도 입력 | 수업 선택 → 진도 내용 입력/저장 | 모바일 친화 폼 |
| 과제 체크 | 과제 목록 → 완료/미완료 토글 | |
| 테스트 점수 | 테스트 선택 → 학생별 점수 입력 | |
| 통계 | 담당 반 기준 기간별 통계 | 읽기 전용 |

### 4.4 학생 (모바일 우선)

| 메뉴 | 화면 | 비고 |
|------|------|------|
| 홈 | “내 수업 진도”, “최근 과제”, “최근 테스트 결과” 한 화면 | 스크롤 한 번에 파악 |
| 진도 | 수업별 진도 타임라인/리스트 | |
| 과제 | 과제 목록 + 완료 여부 | |
| 테스트 | 테스트별 점수·날짜 리스트 | |
| 리포트 | 기간 선택 → 요약 + “PDF 받기” 버튼 | |
| 내정보 | ID/비밀번호/전화번호 변경 폼 | |

### 4.5 학부모 (모바일 우선)

| 메뉴 | 화면 | 비고 |
|------|------|------|
| 홈 | “자녀 이름” + 진도·과제·테스트 요약 | 자녀 1명 고정 |
| 진도 | 자녀 수업별 진도 | |
| 과제 | 자녀 과제 완료 현황 | |
| 테스트 | 자녀 테스트 결과 이력 | |
| 리포트 | 기간 선택 → 자녀 리포트 + PDF 다운로드 | |
| 내정보 | ID/비밀번호/전화번호 변경 | |

### 4.6 UX 원칙

- **학생/학부모**: 3탭 이내로 핵심 정보 도달 (홈 → 진도/과제/테스트/리포트)
- **강사**: “반 선택 → 행동(진도/과제/점수)” 2단계 구조 유지
- **관리자**: PC에서 테이블·필터·다운로드 위주, 모바일은 조회·알림 위주

---

## 5. DB 구조 개요 제안

### 5.1 엔티티 요약

| 엔티티 | 설명 | 핵심 필드 예시 |
|--------|------|----------------|
| **User** | 통합 사용자 (역할: admin / teacher / student / parent) | `role`, `loginId`, `passwordHash`, `name`, `phone`, `email?(선택)` |
| **Student** | 학생 프로필 (User와 1:1 또는 내장) | `userId`, `school`, `grade`, `classId?(반 배정)` |
| **Parent** | 학부모–학생 연결 (1:1) | `userId`, `studentId` |
| **Teacher** | 강사 프로필 | `userId`, 기타 메타 |
| **Class** | 반 | `name`, `description?`, 생성/수정 시각 |
| **ClassTeacher** | 반–강사 N:M | `classId`, `teacherId` |
| **Course / Subject** | 과목(중등/고등 수학 세부 과목) | `name`, `level?(중/고)` |
| **Lesson** | 수업 단위 (진도 단위) | `classId`, `courseId`, `title`, `date`, `order` |
| **Progress** | 수업별 진도 기록 | `studentId`, `lessonId`, `content?`, `completedAt` |
| **Assignment** | 과제 | `lessonId` 또는 독립, `title`, `dueDate?` |
| **AssignmentCompletion** | 과제 수행 여부 | `studentId`, `assignmentId`, `completed`, `completedAt?` |
| **Test** | 테스트 | `classId`, `courseId?`, `title`, `testDate` |
| **TestScore** | 테스트 점수 | `studentId`, `testId`, `score`, `maxScore?` |

### 5.2 관계 요약

- **User ↔ Student**: 1:1 (student 역할일 때)
- **User ↔ Parent**: 1:1 (parent 역할일 때), Parent → Student 1:1
- **User ↔ Teacher**: 1:1 (teacher 역할일 때)
- **Class ↔ Teacher**: N:M (ClassTeacher)
- **Student ↔ Class**: N:1 (한 학생 한 반) 또는 N:M (정책에 따라)
- **Lesson → Class, Course**: N:1
- **Progress → Student, Lesson**: N:1
- **Assignment → Lesson 또는 Class**: N:1
- **AssignmentCompletion → Student, Assignment**: N:1
- **Test → Class**: N:1
- **TestScore → Student, Test**: N:1

### 5.3 인덱스 제안

- `User`: `loginId`(unique), `role`
- `Progress`: `studentId`, `lessonId`, (`studentId`, `lessonId`) unique
- `TestScore`: `studentId`, `testId`, (`studentId`, `testId`) unique
- `AssignmentCompletion`: `studentId`, `assignmentId`
- `ClassTeacher`: `classId`, `teacherId`

### 5.4 비밀번호 및 설정

- `User.passwordHash`: bcrypt 등 해시만 저장
- .env 미사용 → DB 연결 등 설정은 TypeScript config 파일에서 주입

---

## 6. 개발 로드맵 제안

### 6.1 1단계 MVP 범위

**목표**: 관리자가 학생·강사·반을 등록하고, 강사가 진도·과제·테스트를 입력하면, 학생·학부모가 모바일에서 조회할 수 있는 최소 경로 구축.

| 순서 | 영역 | 내용 |
|------|------|------|
| 1 | 프로젝트 셋업 | React+TS / Express+TS / MongoDB 연결, config 기반 설정, 라우팅·역할 미들웨어 |
| 2 | 인증 | 로그인(loginId + 비밀번호), JWT(또는 세션), 역할별 보호 라우트 |
| 3 | 관리자 – 학생/강사/반 | 학생 CRUD(필수·선택 입력, ID/비밀번호 자동 생성 규칙), 강사 CRUD, 반 CRUD, 반–강사 N:M, 반 배정(학생–반) |
| 4 | 강사 – 진도·과제·테스트 | 수업(또는 진도 단위) 생성, 진도 기록, 과제 생성·완료 체크, 테스트 생성·점수 입력 (담당 반만) |
| 5 | 학생/학부모 – 조회 | 학생: 내 진도·과제·테스트 조회, 내정보 수정 / 학부모: 자녀 1명 진도·과제·테스트 조회, 내정보 수정 |
| 6 | MVP 대시보드 | 관리자: 학생/반/강사 수 등 요약 / 강사: 담당 반 요약 / 학생·학부모: 진도·과제·테스트 요약 한 화면 |

**MVP에서 제외해도 되는 것**

- 기간별 고도 통계·차트
- PDF 보고서 생성
- 다자녀, .env 사용

### 6.2 2단계 – 통계·리포트·PDF

| 순서 | 영역 | 내용 |
|------|------|------|
| 1 | 기간별 통계 | 기간·반·과목 조건 조회 API, 진도 완료율·과제 완료율·테스트 평균/추이 등 |
| 2 | 학습 리포트 API | 학생별/기간별 요약 데이터 API (학생·학부모·관리자용) |
| 3 | PDF 보고서 | 통계·리포트 기반 PDF 생성(서버), 다운로드 링크 또는 스트림 (학부모/관리자) |
| 4 | 화면 연동 | 통계 화면(관리자·강사), 리포트 화면(학생·학부모), “PDF 다운로드” 버튼 |

### 6.3 3단계 – 확장 (선택)

- 다자녀 지원: 학부모 ↔ 학생 1:N, 자녀 선택 UI
- 알림: 과제 마감·테스트 일정 등 (이메일/문자 연동은 정책에 따라)
- 과목 세분화: 중등/고등 수학 세부 과목 단위 관리 강화
- 대시보드 위젯·차트 고도화, 엑셀 내보내기 등

---

## 문서 이력

| 버전 | 일자 | 변경 내용 |
|------|------|-----------|
| 1.0 | 2025-02-05 | 초안 작성 (페르소나, 컨셉, 기능, 화면, DB, 로드맵) |

---

---

## 연계 설계 문서 (1단계 MVP)

- **[01-아키텍처-및-기술-설계.md](./01-아키텍처-및-기술-설계.md)** — 전체 시스템 아키텍처, 폴더 구조, 기술 스택 세부, 인증(JWT), 역할 기반 권한
- **[02-DB-설계-상세.md](./02-DB-설계-상세.md)** — MongoDB 컬렉션 스키마, 필드 타입·Required, 인덱스
- **[03-API-설계.md](./03-API-설계.md)** — REST API 엔드포인트, 역할별 접근 권한, Request/Response 구조
- **[04-화면-구조-설계.md](./04-화면-구조-설계.md)** — MVP 화면 목록, 화면 흐름도, 라우트·URL 제안

확인 후 실제 코드 작성은 단계적으로 요청하면 됨.
