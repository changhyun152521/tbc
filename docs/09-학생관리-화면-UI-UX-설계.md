# TBC-CLASS 관리자 – 학생관리 화면 UI/UX 설계안

> 반 관리와 완전 분리된, 엑셀 기능 포함 학생관리 화면 기획안  
> 문서 버전: 1.0 | TailwindCSS 기반 | Cursor 구현 요청용

---

## 목차

1. [핵심 원칙 및 역할 분리](#1-핵심-원칙-및-역할-분리)
2. [화면 구성 도식화](#2-화면-구성-도식화)
3. [주요 컴포넌트 목록](#3-주요-컴포넌트-목록)
4. [화면 레이아웃 및 가독성](#4-화면-레이아웃-및-가독성)
5. [학생 목록 테이블 명세](#5-학생-목록-테이블-명세)
6. [검색/필터 및 엑셀 버튼 구성](#6-검색필터-및-엑셀-버튼-구성)
7. [등록/수정/삭제 모달 설계](#7-등록수정삭제-모달-설계)
8. [엑셀 일괄 등록 UX](#8-엑셀-일괄-등록-ux)
9. [사용자 흐름 다이어그램](#9-사용자-흐름-다이어그램)
10. [실제 화면 목업 설명](#10-실제-화면-목업-설명)
11. [UI 컴포넌트 구조 제안](#11-ui-컴포넌트-구조-제안)
12. [모바일 반응형 설계](#12-모바일-반응형-설계)
13. [디자인 스타일 가이드](#13-디자인-스타일-가이드)
14. [API 연동 포인트](#14-api-연동-포인트)

---

## 1. 핵심 원칙 및 역할 분리

### 1.1 매우 중요 규칙

| 규칙 | 설명 |
|------|------|
| **반 선택 금지** | 학생관리 화면에서 반을 선택/변경하는 UI 없음. 반 배정은 "반관리 화면"에서만 수행. |
| **다대다 구조** | 한 학생은 여러 반에 동시 소속 가능. 소속 반 개수만 "N개 반 소속" 텍스트로 표시. |
| **전화번호 텍스트만** | 전화번호는 표시만. 클릭 시 통화 등 액션 없음. |

### 1.2 학생관리 vs 반관리

| 구분 | 학생관리 화면 | 반관리 화면 |
|------|----------------|-------------|
| 역할 | 학생 기본 정보 CRUD, 엑셀 관리 | 반 생성/수정, 반에 학생 추가·제거 |
| 반 UI | 없음 (소속 반 개수만 표시) | 반별 학생 목록, 학생 배정/해제 |

---

## 2. 화면 구성 도식화

```
┌─────────────────────────────────────────────────────────────────────────┐
│  AdminLayout (Sidebar + Header)                                         │
├─────────────────────────────────────────────────────────────────────────┤
│  pt-[8vh] ~ pt-[10vh] (무게중심 상단)                                    │
│  px-4 sm:px-6 lg:px-10                                                   │
│                                                                         │
│  ┌─ 상단 헤더 ─────────────────────────────────────────────────────┐  │
│  │  [학생 관리]  (제목)                    [엑셀 관리 ▼] [+ 학생 추가] │  │
│  │  전체 학생 정보를 관리합니다. (부제목)                              │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  ┌─ 검색/필터 (테이블 상단 좌측) ───────────────────────────────────┐  │
│  │  [검색 입력창]  [학년 필터 ▼]                                      │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  ┌─ 테이블 영역 (overflow-x-auto, 모바일도 테이블 유지) ─────────────┐  │
│  │  ☐ | 이름 | 학교 | 학년 | 학생 전화번호 | 학부모 전화번호 | 소속 반 | 관리 │  │
│  │  ─────────────────────────────────────────────────────────────  │  │
│  │  ☐ | 홍길동 | TBC중 | 중2 | 010-1234-5678 | 010-9876-5432 | 2개 반 | 수정 삭제 │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  ┌─ 페이지네이션 (테이블 하단) ──────────────────────────────────────┐  │
│  │  [이전]  [1] [2] [3] ...  [다음]    (기본 20명/페이지)              │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
│  (화면 최하단 © 2026 문구 없음)                                          │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 3. 주요 컴포넌트 목록

| 컴포넌트 | 경로/이름 | 역할 |
|----------|-----------|------|
| **StudentManagement** | `pages/StudentManagement.tsx` | 학생관리 페이지 컨테이너 |
| **StudentTable** | `components/student/StudentTable.tsx` | 테이블 헤더·바디·체크박스·관리 버튼 |
| **StudentSearchFilter** | `components/student/StudentSearchFilter.tsx` | 검색 입력 + 학년 필터 드롭다운 |
| **StudentFormModal** | `components/student/StudentFormModal.tsx` | 등록/수정 모달 (이름, 학교, 학년, 학생 전화, 학부모 전화) |
| **StudentDeleteConfirmModal** | `components/student/StudentDeleteConfirmModal.tsx` | 삭제 확인 모달 |
| **ExcelDropdown** | `components/student/ExcelDropdown.tsx` | [엑셀 관리] 드롭다운 (양식 다운로드 / 일괄 등록 / 엑셀 내보내기) |
| **ExcelBulkUploadModal** | `components/student/ExcelBulkUploadModal.tsx` | 일괄 등록 플로우 (파일 선택 → 미리보기 → 검증 → 등록 완료) |
| **ExcelPreviewTable** | `components/student/ExcelPreviewTable.tsx` | 업로드 데이터 미리보기 테이블 (오류 행 강조) |
| **Pagination** | `components/ui/Pagination.tsx` | 이전/다음/페이지 번호 (공통) |

---

## 4. 화면 레이아웃 및 가독성

- **테이블 형태 유지**: 모바일에서도 카드형으로 전환하지 않음. `overflow-x-auto`로 가로 스크롤 허용.
- **무게중심**: 전체 콘텐츠 `pt-[8vh]` 또는 `pt-[10vh]` 적용. 정중앙 배치 금지.
- **불필요 요소 제거**: 화면 최하단 © 2026 문구 없음. 테이블 내부는 `divide-y divide-slate-100` 등 최소 구분만 사용.

---

## 5. 학생 목록 테이블 명세

### 5.1 컬럼 구성 (엄격 준수)

| 순서 | 컬럼명 | 표시 내용 | 비고 |
|------|--------|-----------|------|
| 1 | 체크박스 | 전체 선택 / 행별 선택 | 엑셀 내보내기 시 "선택된 학생만" 대상 |
| 2 | 이름 | 학생 이름 | |
| 3 | 학교 | 학교명 | |
| 4 | 학년 | 학년 (예: 중2, 고1) | |
| 5 | 학생 전화번호 | 단순 텍스트 | 클릭 액션 없음 |
| 6 | 학부모 전화번호 | 단순 텍스트 | 클릭 액션 없음 |
| 7 | 소속 반 | **"N개 반 소속"** 텍스트만 | 클릭/반 이름 노출 금지 |
| 8 | 관리 | 수정 / 삭제 버튼 | |

### 5.2 테이블 스타일

- **헤더**: `bg-slate-50`, `border-b border-slate-200`, `text-slate-600`, `text-[13px]`, `font-semibold`, `p-4`
- **바디**: `divide-y divide-slate-100`, `text-[14px]`, `text-slate-700`, `hover:bg-slate-50`
- **전화번호**: `font-number`(Inter) 또는 `font-mono`로 숫자 정렬
- **관리 셀**: `text-center`, 수정은 `hover:text-slate-950`, 삭제는 `hover:text-red-600`

---

## 6. 검색/필터 및 엑셀 버튼 구성

### 6.1 상단 배치

- **좌측**: 페이지 제목 "학생 관리" + 부제목 "전체 학생 정보를 관리합니다."
- **우측**: [엑셀 관리 ▼] 버튼 + [+ 학생 추가] 버튼만 배치.

### 6.2 검색/필터 (테이블 바로 위, 좌측)

- **검색바**: 한 개 입력창. placeholder 예: "이름, 학교, 전화번호로 검색"
- **검색 대상**: 이름, 학교, 학생 전화번호, 학부모 전화번호 (즉시 반영 또는 debounce 300ms)
- **필터**: 학년 드롭다운 (전체 / 중1 / 중2 / … / 고3 등)

### 6.3 엑셀 관리 드롭다운

- 클릭 시 메뉴:
  - **양식 다운로드**: 이름, 학교, 학년, 학생 전화번호, 학부모 전화번호 컬럼만 있는 엑셀 파일 다운로드. 반 정보 없음.
  - **일괄 등록**: 일괄 등록 모달 오픈.
  - **엑셀 내보내기**: (하위 옵션 또는 별도 모달에서) 현재 검색/필터 기준 / 전체 / 선택된 학생만 내보내기.

---

## 7. 등록/수정/삭제 모달 설계

### 7.1 등록/수정 모달 (StudentFormModal)

- **입력 필드 5개만**: 이름, 학교, 학년, 학생 전화번호, 학부모 전화번호.
- **반 선택 UI 없음**: 라벨·셀렉트·체크박스 등 반 관련 요소 절대 포함하지 않음.
- **저장 전 유효성**: 필수값, 전화번호 형식 등 검사 후 저장.
- **스타일**: `rounded-2xl`, `border border-slate-200`, `shadow-lg`, `p-6`~`p-8`. 제목 `text-xl font-bold text-slate-950`, 라벨 `text-sm font-medium text-slate-700`, 입력창 `rounded-lg border-slate-200`.

### 7.2 삭제 확인 모달 (StudentDeleteConfirmModal)

- 문구: "정말 삭제하시겠습니까?" (필요 시 학생 이름 표시)
- 버튼: [취소] [삭제]. 삭제는 `bg-red-600` 또는 `text-red-600` 톤.
- 소속 반이 있어도 삭제 가능 (관리자 권한).

---

## 8. 엑셀 일괄 등록 UX

### 8.1 흐름 (5단계)

1. **1단계: 파일 선택**  
   파일 선택 input 또는 드래그 앤 드롭.
2. **2단계: 미리보기**  
   업로드된 데이터를 테이블 형태로 표시. 컬럼: 이름, 학교, 학년, 학생 전화번호, 학부모 전화번호. **반 정보 없음.**
3. **3단계: 유효성 검증 결과**  
   - 잘못된 행: 빨간색 배경 또는 테두리 강조.  
   - 오류 사유: 해당 행 옆 또는 하단에 텍스트 표시 (필수값 누락, 전화번호 형식, 중복 등).
4. **4단계: "유효한 데이터만 등록" 버튼**  
   검증 통과한 행만 등록. 실패 행은 제외.
5. **5단계: 등록 완료 결과**  
   성공 N건, 실패 M건 요약. (필요 시 실패 목록 표시)

### 8.2 검증 규칙

- 필수값 누락 체크 (5개 필드)
- 전화번호 형식 체크
- 중복 데이터 체크 (동일 학생 전화번호 등)

### 8.3 엑셀 양식 필드

- 이름, 학교, 학년, 학생 전화번호, 학부모 전화번호만 포함. 반 정보 미포함.

---

## 9. 사용자 흐름 다이어그램

### 9.1 개별 학생 등록

```
[학생 관리 목록]
    → [+ 학생 추가] 클릭
    → StudentFormModal 오픈 (이름, 학교, 학년, 학생전화, 학부모전화)
    → 유효성 검사
    → 저장 → 목록 새로고침
```

### 9.2 학생 정보 수정

```
[학생 관리 목록]
    → 해당 행 [수정] 클릭
    → StudentFormModal 오픈 (기존 값 채움)
    → 수정 후 저장 → 목록 새로고침
```

### 9.3 학생 삭제

```
[학생 관리 목록]
    → 해당 행 [삭제] 클릭
    → StudentDeleteConfirmModal "정말 삭제하시겠습니까?"
    → [삭제] 확인 → 삭제 API → 목록 새로고침
```

### 9.4 검색 및 필터

```
[검색창 입력] → (즉시 또는 debounce) 목록 API 재요청 (name, school, studentPhone, parentPhone)
[학년 필터 선택] → 목록 API 재요청 (grade)
```

### 9.5 엑셀 일괄 등록

```
[엑셀 관리] → [일괄 등록]
    → 1) 파일 선택
    → 2) 미리보기 테이블 표시
    → 3) 검증 실행 → 오류 행 강조 + 사유 표시
    → 4) [유효한 데이터만 등록] 클릭
    → 5) 결과 화면 (성공 N건, 실패 M건)
```

### 9.6 엑셀 내보내기

```
[엑셀 관리] → [엑셀 내보내기]
    → (옵션) 현재 검색/필터 기준 / 전체 / 선택된 학생만
    → 엑셀 파일 다운로드
```

---

## 10. 실제 화면 목업 설명

### 10.1 메인 화면 (목록)

- **상단**: 왼쪽에 "학생 관리" (text-2xl font-bold text-slate-950), 아래 "전체 학생 정보를 관리합니다." (text-sm text-slate-500). 오른쪽 [엑셀 관리 ▼] (outline), [+ 학생 추가] (bg-slate-950).
- **검색/필터**: 테이블 위 한 줄. 왼쪽 검색 input (rounded-lg, border-slate-200), 오른쪽 학년 select.
- **테이블**: 흰 배경, border border-slate-200, rounded-2xl, overflow-hidden. thead bg-slate-50, tbody divide-y divide-slate-100. 8컬럼.
- **페이지네이션**: 테이블 아래. 이전/페이지 번호/다음. 기본 20명/페이지.

### 10.2 등록/수정 모달

- 반투명 배경 위 중앙 모달. 제목 "학생 등록" 또는 "학생 수정". 입력 5개: 이름, 학교, 학년, 학생 전화번호, 학부모 전화번호. [취소] [저장].

### 10.3 삭제 확인 모달

- 작은 모달. "정말 삭제하시겠습니까?" [취소] [삭제].

### 10.4 엑셀 일괄 등록 모달

- 단계별로 1) 파일 선택 2) 미리보기 테이블 3) 검증 결과(오류 행 강조) 4) 유효한 데이터만 등록 버튼 5) 결과 요약.

---

## 11. UI 컴포넌트 구조 제안

```
src/
├── pages/
│   └── StudentManagement.tsx          # 라우트 페이지, 상단 헤더+검색/필터+테이블+페이지네이션
├── components/
│   ├── student/
│   │   ├── StudentTable.tsx            # thead + tbody, 체크박스/관리 버튼
│   │   ├── StudentSearchFilter.tsx     # 검색 input + 학년 select
│   │   ├── StudentFormModal.tsx        # 등록/수정 폼 (5필드, 반 없음)
│   │   ├── StudentDeleteConfirmModal.tsx
│   │   ├── ExcelDropdown.tsx           # 엑셀 관리 드롭다운
│   │   ├── ExcelBulkUploadModal.tsx    # 단계별 일괄 등록
│   │   └── ExcelPreviewTable.tsx       # 미리보기 + 오류 행 강조
│   └── ui/
│       └── Pagination.tsx
```

**데이터 흐름**

- `StudentManagement`: 목록 API 호출 (query: search, grade, page, limit). 선택된 ID 목록 state. 모달 open/close state.
- `StudentTable`: 목록 데이터 + 선택 변경 콜백 + 수정/삭제 클릭 콜백.
- `StudentFormModal`: 등록이면 빈 폼, 수정이면 id 받아서 기존 값 로드. 저장 시 API 호출 후 onSuccess 콜백으로 목록 갱신.

---

## 12. 모바일 반응형 설계

- **PC 기준**: max-w-6xl mx-auto, px-6~10.
- **모바일**: 테이블을 카드로 바꾸지 않음. `overflow-x-auto`로 테이블 가로 스크롤. 좌우 padding px-4 유지.
- **무게중심**: 모바일에서도 pt-[8vh] 적용해 상단 여백 유지.
- **버튼/드롭다운**: 모바일에서도 상단 우측에 두되, 텍스트 짧게 또는 아이콘만 사용 가능 ("엑셀 관리", "+ 추가" 등).

---

## 13. 디자인 스타일 가이드

- **색상**: slate 계열 중심. 배경 bg-slate-50, 카드/테이블 bg-white, 테두리 border-slate-200.
- **버튼**: 과도한 컬러 금지. Primary: bg-slate-950 text-white. Secondary: border border-slate-300 text-slate-700. 삭제만 red 톤.
- **테이블**: 단정한 라인. divide-slate-100, hover:bg-slate-50.
- **모달**: rounded-2xl, shadow-lg, border border-slate-200.
- **타이포**: 제목 font-title(Inter Bold), 본문 Pretendard, 숫자/전화번호 font-number(Inter). (로그인 화면과 동일 톤)

---

## 14. API 연동 포인트

| 기능 | 메서드 | 경로 | 비고 |
|------|--------|------|------|
| 목록 조회 | GET | `/api/admin/students` | query: name, grade, page, limit. (school, studentPhone, parentPhone 검색은 백엔드 확장 필요) |
| 단건 조회 | GET | `/api/admin/students/:id` | 수정 모달 데이터 로드 |
| 등록 | POST | `/api/admin/students` | body: name, school, grade, studentPhone, parentPhone (반 필드 제외 권장) |
| 수정 | PATCH/PUT | `/api/admin/students/:id` | body: 동일 5항목 |
| 삭제 | DELETE | `/api/admin/students/:id` | |
| 엑셀 양식 다운로드 | - | 프론트에서 Blob 생성 또는 정적 파일 | |
| 엑셀 일괄 등록 | POST | `/api/admin/students/bulk` (신규 API 권장) | body: 배열 형태 학생 목록 |
| 엑셀 내보내기 | GET | `/api/admin/students/export` (신규 API 권장) | query: currentFilter 또는 ids. CSV/Excel 스트림 |

---

## 15. Cursor 구현 체크리스트 (요약)

- [ ] `StudentManagement.tsx`: pt-[8vh], px-4 sm:px-10, 상단 헤더(제목+엑셀 관리+학생 추가), 검색/필터, 테이블 영역, 페이지네이션.
- [ ] 테이블: 8컬럼. 소속 반은 "N개 반 소속" 텍스트만. 전화번호 클릭 액션 없음.
- [ ] 검색: 이름, 학교, 학생 전화번호, 학부모 전화번호. 학년 필터 드롭다운.
- [ ] 등록/수정 모달: 5필드만. 반 선택 UI 없음.
- [ ] 삭제 확인 모달 필수.
- [ ] 엑셀 관리: 양식 다운로드 / 일괄 등록 / 엑셀 내보내기. 일괄 등록 5단계 흐름.
- [ ] 페이지네이션: 20명/페이지, 이전/다음/페이지 번호.
- [ ] 모바일: 테이블 유지, overflow-x-auto. 최하단 © 문구 없음.

---

*이 설계안을 기반으로 Cursor에 "docs/09-학생관리-화면-UI-UX-설계.md 기준으로 학생관리 화면 구현해줘" 형태로 구현 요청하면 됩니다.*
