# 강사관리 페이지 구현 보고

## 1. 구현된 화면 스크린 구조

### 1.1 강사관리 메인 (`/admin/teachers`)

- **상단**: 제목 "강사 관리", 설명 "전체 강사 정보를 관리합니다.", 우측 [엑셀 관리] 드롭다운, [+ 강사 추가] 버튼
- **검색**: 강사 이름, 로그인 ID로 검색 (단일 입력, 학생관리와 동일 패턴)
- **테이블** (모바일 포함 테이블 유지, overflow-x-auto):
  - [체크박스 | 이름 | 로그인 ID | 전화번호 | 담당 반 개수 | 관리]
  - 담당 반 개수: "N개 반 담당" 형식, 반 이름/클릭 없음
  - 전화번호: 텍스트만 표시, 클릭 기능 없음
  - 관리: [수정], [삭제]만 (상세 버튼 없음)
- **페이징**: 목록 20건 단위, Pagination 컴포넌트

### 1.2 강사 등록/수정 모달

- **입력 필드**: 이름(필수), 로그인 ID(필수), 비밀번호(필수·수정 시 변경 시에만), 전화번호(선택), 비고(선택)
- 수정 시 로그인 ID는 비활성(수정 불가)
- 반 선택 UI 없음 (담당 반은 반관리 페이지에서만 지정)

### 1.3 강사 삭제 확인 모달

- 문구: "해당 강사를 삭제하시겠습니까?"
- 삭제 시 해당 강사와 반의 연결만 해제, 반은 삭제되지 않음 (백엔드에서 Class.teacherIds에서 제거 후 강사·User 삭제)

### 1.4 엑셀 관리

- **드롭다운**: 양식 다운로드, 일괄 등록, 엑셀 내보내기(전체/검색 결과/선택한 강사만)
- **양식**: 이름, 로그인 ID, 비밀번호, 전화번호, 비고
- **일괄 등록**: 파일 업로드 → 미리보기 테이블 → 유효성 검증(이름·로그인 ID·비밀번호 필수) → 검증 통과 행만 등록

---

## 2. 사용된 컴포넌트 목록

| 구분 | 컴포넌트 | 경로 |
|------|----------|------|
| 페이지 | TeacherManagement | `pages/TeacherManagement.tsx` |
| 검색 | TeacherSearchFilter | `components/teacher/TeacherSearchFilter.tsx` |
| 테이블 | TeacherTable | `components/teacher/TeacherTable.tsx` |
| 모달 | TeacherFormModal | `components/teacher/TeacherFormModal.tsx` |
| 모달 | TeacherDeleteConfirmModal | `components/teacher/TeacherDeleteConfirmModal.tsx` |
| 엑셀 | TeacherExcelPreviewTable | `components/teacher/TeacherExcelPreviewTable.tsx` |
| 엑셀 | TeacherExcelBulkUploadModal | `components/teacher/TeacherExcelBulkUploadModal.tsx` |
| 공용 | ExcelDropdown | `components/student/ExcelDropdown.tsx` (selectionLabel="선택한 강사만 다운로드") |
| 공용 | Pagination | `components/ui/Pagination.tsx` |

---

## 3. API 연동 포인트

| 메서드 | 경로 | 용도 |
|--------|------|------|
| GET | `/admin/teachers` | 강사 목록 (쿼리: `search` → 이름/로그인 ID 검색) |
| GET | `/admin/teachers/:id` | 강사 상세 (수정 모달 초기값) |
| POST | `/admin/teachers` | 강사 등록 (name, loginId, password, phone?, description?) |
| PUT | `/admin/teachers/:id` | 강사 수정 (name, loginId, password?, phone?, description?) |
| DELETE | `/admin/teachers/:id` | 강사 삭제 (반 연결 해제 후 강사·User 삭제) |

---

## 4. 백엔드 변경 사항

- **Teacher 모델**: `description`(비고) 필드 추가
- **User**: 기존 `phone` 사용 (강사 전화번호)
- **teacher.service**: CreateTeacherInput/UpdateTeacherInput에 phone, description 추가; listTeachers에 `search`(이름·로그인 ID), 담당 반 개수(classCount) 추가; deleteTeacher 시 Class.teacherIds에서 해당 강사 제거 후 삭제
- **teacher.controller**: create/update 시 body.phone, body.description 전달; listTeachers에 query.search 전달

---

## 5. 라우트·메뉴

- **라우트**: `router.tsx`에 `path: 'teachers', element: <TeacherManagement />` 추가
- **메뉴 순서**: 대시보드 → **학생 관리** → **강사 관리** → **반 관리** (요청대로 학생–강사–반 순서)
